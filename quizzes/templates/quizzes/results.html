<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test Results</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #333;
            font-family: 'Poppins', sans-serif;
        }

        .results-card {
            background: #fff;
            border-radius: 1rem;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
            padding: 2rem 2.5rem;
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        .results-card h1 {
            font-weight: 600;
            color: #222;
            margin-bottom: 1rem;
        }

        .results-card h2 {
            color: #2575fc;
            margin-top: 1.5rem;
        }

        .results-card p {
            font-size: 1rem;
            margin: 0.5rem 0;
        }

        .highlight {
            font-weight: 600;
            color: #2575fc;
        }

        .btn-custom {
            background-color: #2575fc;
            color: white;
            border-radius: 0.5rem;
            padding: 0.6rem 1.5rem;
            margin-top: 1rem;
            text-decoration: none;
            display: inline-block;
        }

        .btn-custom:hover {
            background-color: #1a5fd8;
        }

        hr {
            margin: 1.5rem 0;
            border: none;
            border-top: 2px solid #eee;
        }
    </style>
</head>
<body>

    <div class="results-card">
        <h1>Test Results: {{ attempt.test.title }}</h1>

        {% if attempt.is_completed %}
            <p><strong>Completion Time:</strong> {{ attempt.end_time|date:"H:i:s, F j, Y" }}</p>

            {% if total_questions %}
                <h2>Score Summary</h2>
                <p>You answered <span class="highlight">{{ correct_count }}</span> out of <span class="highlight">{{ total_questions }}</span> questions correctly.</p>
                <p>Your Final Score: <span class="highlight">{{ score_percentage|floatformat:1 }}%</span></p>

                <hr>
                <h3>Next Steps</h3>
                <p>Your results have been saved to your dashboard.</p>
                <a href="{% url 'test_list' %}" class="btn-custom">Take Another Test</a>
            {% else %}
                <p>No questions were found for this test.</p>
            {% endif %}

        {% else %}
            <p class="text-danger">âš  This test attempt is still incomplete. Please retry or contact support.</p>
        {% endif %}
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
